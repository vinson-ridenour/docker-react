# everytime we push new code to Github master, Travis will clone all code then use these directions to build 
# our docker image, run tests, then report on whether tests failed or passed
# hey Travis we need super user permissions to execute this build
sudo: required
# travis needs to know we have the docker cli pre-installed, travis will isntall docker into our running container
services:
  - docker

# steps or setup before tests are run or deployment, etc (basically build our image)
before_install:
  # builds the image, names it (can be anything - will only be used by Travis), make it use the Dockerfile.dev file (not regular Dockerfile cuz this is for testing)
  - docker build -t morgenes23/docker-react -f Dockerfile.dev .

# commands necessary to run our test suite - Travis will be watching the output of these and if any get a
# return status code of 0, Travis will assume code is broken
script:
  - docker run morgenes23/docker-react npm run test -- --coverage